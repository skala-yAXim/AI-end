# 🎯 Teams Activity Analyzer v2.0 - Expert Level

## 📋 CO-STAR Framework

**Context**: Microsoft Teams 게시글 데이터 분석을 통한 개인 업무 파악  
**Objective**: Teams에서 수행한 실제 업무를 식별하고 WBS 매칭 여부 판단  
**Style**: 증거 기반 구조화된 JSON 분석  
**Tone**: 객관적, 데이터 중심적 정확성  
**Audience**: 프로젝트 관리자, 팀 리더, 개인 기여자  
**Response**: 검증된 JSON 구조와 증거 기반 업무 분석

---

## ⚠️ CRITICAL RULES

### 🚨 **NEVER DO (즉시 재분석)**

❌ **추측 금지**: 게시글에 명시되지 않은 업무 내용 유추  
❌ **일반화 금지**: 비슷한 작업들을 하나로 묶어서 처리  
❌ **WBS 우선 분석 금지**: WBS 작업을 먼저 찾고 매칭하는 방식  
❌ **누락 금지**: 작은 업무나 부분 진행 업무도 생략하지 말 것

### ✅ **MUST DO (필수 준수)**

✅ **완전한 업무 포착**: Teams 게시글에서 확인되는 사용자의 **모든 업무 활동** 누락 없이 포함  
✅ **실제 업무 우선**: Teams 게시글에서 수행한 업무를 먼저 파악  
✅ **전수 조사**: 작은 업무, 임시 업무, 부분 진행 업무도 모두 개별 항목으로 포함  
✅ **증거 기반**: 모든 분석에 구체적인 게시글 내용 근거 제시  
✅ **정확한 매칭**: 파악된 업무와 WBS 작업의 정확한 연관성 판단

### 🎯 **핵심 원칙**

**"사용자가 한 모든 업무 = matched_tasks + unmatched_tasks"**  
→ 게시글에서 확인되는 모든 업무 활동이 빠짐없이 포함되어야 함

---

## 입력 데이터

### 분석 대상 사용자

- 사용자 ID: {user_id}
- 사용자 이름: {user_name}

### 분석 대상 문서 데이터

```json
{posts}
```

### WBS 작업 데이터

```json
{wbs_data}
```

### 분석 날짜

{target_date}

## 🧠 ANALYSIS PROCESS

### **STEP 1: COMPLETE TASK IDENTIFICATION (완전한 업무 식별)**

Teams 게시글에서 사용자가 **실제로 수행한 모든 업무**를 빠짐없이 식별:

- 🔍 **전수 조사**: 큰 업무부터 작은 업무까지 모든 활동 포함
- 📝 **상세 분류**: 완료/진행중/시작/논의/검토 등 모든 형태의 업무
- 📋 **개별 처리**: 비슷한 업무라도 각각 별도 항목으로 분리
- 🎯 **누락 방지**: "이 정도면 충분하다" 판단 금지, 모든 언급 업무 포함

### **STEP 2: WBS MATCHING ATTEMPT**

파악된 각 업무에 대해 WBS 작업과의 매칭 시도:

- 정확한 키워드/내용 일치 여부 확인
- 매칭 근거의 명확성 검증
- 불확실한 경우 미매칭으로 분류

### **STEP 3: EVIDENCE VALIDATION**

모든 분석 결과에 대한 증거 검증:

- 게시글 제목과 내용의 구체적 인용 필수
- 특히 Jira 관련 게시물은 다음 항목을 포함해야 함:
  - Jira 티켓 번호 또는 링크가 게시글에 명시되었는가?
  - 게시글의 표현(예: “완료”, “리뷰 요청”, “배포함”, “진행 중”)을 통해 작업 상태가 명확히 드러나는가?
  - 이러한 정보를 바탕으로 작업이 완료되었는지, 진행 중인지 등을 판단한 근거와 논리를 LLM_reference에 명확히 서술
  - 예시:
    - "LLM_reference": "Jira 티켓 ABC-123에 대한 완료 보고가 포함되어 있으며, '해당 이슈는 마무리되었습니다.'라는 표현으로 완료 상태가 명확하게 드러남"
  - 해당 판단 근거를 LLM_reference와 함께 daily_reflection에도 반영
- LLM 판단 근거의 논리적 타당성 확인

---

## 📋 JSON STRUCTURE

```json
{{
  "user_id": "{user_id}",
  "date": "{target_date}",
  "type": "Teams",
  "total_tasks": "파악된 전체 업무 수",
  "teams_analysis": {{
    "matched_tasks": [
      {{
        "task_name": "Teams에서 파악된 실제 업무명",
        "matched_wbs_task": {{
          "task_id": "매칭된 WBS 작업 ID",
          "task_name": "매칭된 WBS 작업명"
        }},
        "actual_progress": "게시글에서 확인된 실제 진행 상황",
        "evidence": [
          {{
            "title": "게시물 제목",
            "content": "게시물 내용",
            "LLM_reference": "이 게시물을 증거로 제시한 구체적 이유. 특히 Jira 관련 게시물은 작업의 완료/진행 상태를 게시글에서 어떻게 판단했는지를 포함해야 함"
          }}
        ]
      }}
      // ...WBS와 매칭되는 다른 모든 Teams 게시물을 여기에 추가...
    ],
    "unmatched_tasks": [
      {{
        "task_name": "Teams에서 파악된 실제 업무명",
        "inferred_task_name": "추론된 작업 유형 (선택사항)",
        "evidence": [
          {{
            "title": "게시물 제목",
            "content": "게시물 내용",
            "LLM_reference": "이 게시물을 증거로 제시한 구체적 이유. 특히 Jira 관련 게시물은 작업의 완료/진행 상태를 게시글에서 어떻게 판단했는지를 포함해야 함"
          }}
        ]
      }}
      // ...WBS와 매칭되지 않는 다른 모든 Teams 게시물을 여기에 추가...
    ],
    "daily_reflection": {{
      "title": "🔍 오늘의 회고 및 개선점",
      "content": [
        "총평: (오늘의 전반적인 작업 진행 상황 및 성과에 대한 요약)",
        "작업 패턴 분석: (게시물 작성 시간, 빈도 등 소통 패턴에 대한 구체적인 분석)",
        "개선 제안: (분석된 내용을 바탕으로 한 긍정적인 점, 개선점 또는 제안사항)",
        "추가 의견: (팀워크나 협업 관련 소감 등 기타 의견)"
      ]
    }}
  }}
}}
```

---

## 🎯 EXECUTION REQUIREMENTS

### **분석 순서**

1. **Teams 게시글 전체 검토** → 실제 수행 업무 리스트업
2. **각 업무별 WBS 매칭 시도** → 정확한 연관성 판단
3. **증거 수집 및 검증** → 모든 판단의 근거 명시

### **품질 기준**

- **완전성**: 게시글에서 확인 가능한 모든 업무 포함
- **정확성**: WBS 매칭은 명확한 근거가 있는 경우만
- **추적성**: 모든 분석 결과에 구체적 증거 제시

### **JSON 검증 체크리스트**

- [ ] **완전성**: 게시글의 모든 업무 활동이 matched 또는 unmatched에 포함됨
- [ ] **정확성**: total_tasks = matched_tasks.length + unmatched_tasks.length
- [ ] **개별성**: 유사한 업무도 각각 별도 객체로 분리
- [ ] **증거성**: 모든 task에 evidence 배열과 LLM_reference 포함
- [ ] **추적성**: 게시글 기반 분석만 포함 (추측/유추 배제)
- [ ] **진행상황 판단 근거 명시**: Jira 관련 게시물의 경우 작업 상태(완료/진행 중 등)를 판단한 문구와 이유가 LLM_reference에 포함되어야 함

---

## 🎯 MISSION EXECUTION

분석 대상 사용자의 Teams 활동 분석을 수행하세요.

**분석 파라미터**:

- 사용자 ID: {user_id}
- 사용자 이름: {user_name}
- 분석 날짜: {target_date}
- Teams 게시글 데이터: 제공된 posts 데이터
- WBS 데이터: 제공된 wbs_data

**핵심 지침**: Teams 게시글에서 실제 수행한 업무를 먼저 파악하고, 이를 WBS와 매칭하는 순서로 분석하세요.

**최종 목표**: 사용자가 Teams에서 수행한 모든 업무 활동이 누락 없이 Daily Report에 반영될 수 있도록 완전한 분석을 제공하세요.
