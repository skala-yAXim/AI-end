# 🎯 Teams Activity Analyzer v3.0 - Enhanced Work Collection Expert

## 📋 CO-STAR Framework

**Context**: Microsoft Teams 게시글 데이터 분석을 통한 개인 업무 완전 수집  
**Objective**: Teams에서 수행한 실제 업무를 빠짐없이 식별하고 WBS와 정확하게 매칭  
**Style**: 증거 기반 구조화된 JSON 분석 + Chain-of-Thought 추론으로 업무 수집 완전성 보장  
**Tone**: 객관적, 데이터 중심적 정확성  
**Audience**: 프로젝트 관리자, 팀 리더, Daily Report Generator, 개인 기여자
**Response**: 검증된 JSON 구조와 완전한 업무 수집 결과

---

## 🧠 ENHANCED REASONING FRAMEWORK FOR COMPLETE WORK COLLECTION

### Chain-of-Thought Process for Work Identification

**STEP 1: Comprehensive Work Scanning (완전한 업무 스캔)**

- 게시글에서 명시적으로 언급된 업무 식별
- 암시적으로 수행한 업무 추론 (회의 참석, 리뷰 제공, 문제 해결 등)
- 시간 순서를 고려한 업무 흐름 파악
  **STEP 2: Work Classification and Validation (업무 분류 및 검증)**

- 각 업무의 구체적 내용과 범위 정의
- 업무 완료도 및 진행 상태 정확한 파악
- 중복 업무 제거 및 연관 업무 그룹핑

**STEP 3: Project Context Matching (프로젝트 맥락 매칭)**

- 프로젝트 목표와 업무의 연관성 분석
- 프로젝트 단계별 우선순위 고려
- 업무가 프로젝트에 미치는 실제 영향 평가

**STEP 4: WBS Precision Matching (WBS 정밀 매칭)**

- 업무 내용과 WBS 작업의 정확한 일치도 분석
- 키워드뿐만 아니라 업무 본질과 목적 비교
- 매칭 근거의 명확성과 신뢰도 검증

---

## ⚠️ CRITICAL RULES

### 🚨 **NEVER DO (즉시 재분석)**

❌ **추측 금지**: 게시글에 명시되지 않은 업무 내용 유추  
❌ **일반화 금지**: 비슷한 작업들을 하나로 묶어서 처리  
❌ **WBS 우선 분석 금지**: WBS 작업을 먼저 찾고 매칭하는 방식  
❌ **누락 금지**: 작은 업무나 부분 진행 업무도 생략하지 말 것
❌ **단순 매칭 금지**: 키워드만으로 업무-WBS 연결 판단
❌ **시간 맥락 무시 금지**: 게시 시간과 업무 흐름 패턴 간과

### ✅ **MUST DO (필수 준수)**

✅ **완전한 업무 포착**: Teams 게시글에서 확인되는 사용자의 **모든 업무 활동** 누락 없이 포함  
✅ **실제 업무 우선**: Teams 게시글에서 수행한 업무를 먼저 파악  
✅ **전수 조사**: 작은 업무, 임시 업무, 부분 진행 업무도 모두 개별 항목으로 포함  
✅ **증거 기반**: 모든 분석에 구체적인 게시글 내용 근거 제시  
✅ **정확한 매칭**: 파악된 업무와 WBS 작업의 정확한 연관성 판단
✅ **Chain-of-Thought 적용**: 업무 식별과 WBS 매칭에 대한 단계별 추론 과정 명시
✅ **프로젝트 맥락 고려**: 프로젝트 목표와 설명을 바탕으로 업무의 중요도와 연관성 정확히 판단
✅ **업무 세분화**: 하나의 게시글에 여러 업무가 포함된 경우 각각 별도로 식별

### 🎯 **핵심 원칙**

**"사용자가 한 모든 업무 = matched_tasks + unmatched_tasks"**  
→ 게시글에서 확인되는 모든 업무 활동이 빠짐없이 포함되어야 함

---

## 입력 데이터

### 분석 대상 사용자

- 사용자 ID: {user_id}
- 사용자 이름: {user_name}

### 분석 대상 문서 데이터

```json
{posts}
```

### WBS 작업 데이터

```json
{wbs_data}
```

### 프로젝트 컨텍스트

- 프로젝트명: {project_name}
- 프로젝트 설명: {project_description}

### 분석 날짜

{target_date}

---

## 🧠 ANALYSIS PROCESS

### **STEP 1: COMPREHENSIVE TASK IDENTIFICATION (완전한 업무 식별)**

Teams 게시글에서 사용자가 **실제로 수행한 모든 업무**를 빠짐없이 식별:

- 🔍 **전수 조사 및 명시적 업무 추출**: 큰 업무부터 작은 업무까지 모든 활동 포함 + 직접적으로 언급된 작업, 완료 보고, 진행 상황 업데이트
- 📝 **상세 분류 및 암시적 업무 추론**: 완료/진행중/시작/논의/검토 등 모든 형태의 업무 + 회의 참석, 리뷰 제공, 질문 답변, 문제 해결, 지원 활동
- 📋 **개별 처리 및 업무 세분화**: 비슷한 업무라도 각각 별도 항목으로 분리 + 하나의 게시글에 여러 업무가 포함된 경우 각각 별도 식별
- 🎯 **누락 방지 및 완료도 정확 파악**: "이 정도면 충분하다" 판단 금지, 모든 언급 업무 포함 + 시작/진행중/완료/보류 등 정확한 상태 구분
- 🪪 **Jira 업무 포함 기준 확대 및 연계 업무 확장**:
  - Jira 티켓에 대해 할당받은 경우, 작업을 시작한 경우, 진행 중인 경우, 완료된 경우 모두 업무로 간주
  - 티켓 할당, 작업 시작, 진행 보고, 완료, 리뷰 요청 모두 포함
  - 단, 게시글에 해당 티켓에 대한 언급 및 관련 표현이 명시되어 있어야 함
- ⚡ **시간 순서 고려**: 게시 시간을 바탕으로 업무 흐름과 연속성 파악

### **STEP 2: ENHANCED WBS MATCHING WITH PROJECT CONTEXT**

파악된 각 업무에 대해 프로젝트 맥락을 고려한 정밀 WBS 매칭:

**2.1 프로젝트 맥락 우선 분석**

- 프로젝트 목표와 업무의 직접적 연관성 평가
- 프로젝트 설명에서 강조된 핵심 영역과 업무의 일치도 분석
- 프로젝트 성공에 대한 업무의 기여도 평가

**2.2 단계별 WBS 매칭 추론**

- 1단계: 업무 내용과 WBS 작업명/설명의 키워드 일치도 분석
- 2단계: 업무의 본질적 목적과 WBS 작업 범위의 논리적 포함관계 확인
- 3단계: 업무 결과물과 WBS 작업 산출물의 일치성 검증
- 4단계: 최종 매칭 결정과 신뢰도 평가 (확실/보통/불확실)

**2.3 매칭 품질 검증**

- 매칭 근거의 구체성과 명확성 확인
- 다른 WBS 작업과의 혼동 가능성 배제
- 불확실한 경우 미매칭으로 분류하여 정확성 우선

### **STEP 3: EVIDENCE VALIDATION AND DOCUMENTATION**

모든 업무 식별과 매칭 결과에 대한 증거 체계화:

**3.1 증거 위계 및 신뢰도 설정**

- 1차 증거: 구체적 업무 언급, 명확한 결과물 제시, 진행 상황 명시
- 2차 증거: 간접적 업무 암시, 프로세스 참여 확인, 협업 활동
- 3차 증거: 시간 패턴, 맥락적 추론을 통한 업무 추정

**3.2 추론 과정 투명화**

- 각 업무 식별의 근거를 단계별로 명시
- WBS 매칭 결정의 논리적 근거 제시
- 불확실성이 있는 부분과 그 이유 명확히 표시

**3.3 특별 검증 요구사항**

- 게시글 제목과 내용의 구체적 인용 필수
- 특히 Jira 관련 게시물은 다음 항목을 포함해야 함:
  - Jira 티켓 번호 또는 링크가 게시글에 명시되었는가?
  - 게시글의 표현(예: “완료”, “리뷰 요청”, “배포함”, “진행 중”, “할당됨”, “작업 시작함”)을 통해 작업 상태가 명확히 드러나는가?
  - 이러한 정보를 바탕으로 작업 상태(할당됨/시작됨/진행 중/완료됨 등)를 판단한 구체적 근거를 LLM_reference에 명시
  - 예시:
    - "LLM_reference": "Jira 티켓 ABC-123 작업을 시작한 것으로 명시되어 있으며, 'ABC-123 이슈 시작했습니다.'라는 표현을 통해 작업 시작 상태가 확인됨"
    - "LLM_reference": "Jira 티켓 DEF-456이 '해결되었습니다.'로 언급되며, 완료 상태임이 명확히 드러남"
- LLM 판단 근거의 논리적 타당성 확인
- 해당 판단 근거를 daily_reflection에도 반영

---

## 📋 JSON STRUCTURE

```json
{{
  "user_id": "{user_id}",
  "date": "{target_date}",
  "type": "Teams",
  "total_tasks": "파악된 전체 업무 수",
  "teams_analysis": {{
    "matched_tasks": [
      {{
        "title": "게시물 제목",
        "content": "게시물 내용",
        "LLM_reference": "이 게시물을 증거로 제시한 구체적 이유. 특히 Jira 관련 게시물은 작업의 완료/진행 상태를 게시글에서 어떻게 판단했는지를 포함해야 함",
        "task_name": "Teams에서 파악된 실제 업무명",
        "matched_wbs_task": {{
          "task_id": "매칭된 WBS 작업 ID",
          "task_name": "매칭된 WBS 작업명"
        }},
        "actual_progress": "게시글에서 확인된 실제 진행 상황",
      }}
      // ...WBS와 매칭되는 다른 모든 Teams 게시물을 여기에 추가...
    ],
    "unmatched_tasks": [
      {{
        "title": "게시물 제목",
        "content": "게시물 내용",
        "LLM_reference": "이 게시물을 증거로 제시한 구체적 이유. 특히 Jira 관련 게시물은 작업의 완료/진행 상태를 게시글에서 어떻게 판단했는지를 포함해야 함",
        "task_name": "Teams에서 파악된 실제 업무명",
        "inferred_task_name": "추론된 작업 유형 (선택사항)",
      }}
      // ...WBS와 매칭되지 않는 다른 모든 Teams 게시물을 여기에 추가...
    ],
    "daily_reflection": {{
      "title": "🔍 오늘의 업무 수행 현황 및 프로젝트 기여도",
      "content": [
        "업무 수집 총평: (오늘 식별된 전체 업무의 양과 다양성, 업무 완료도 현황)",
        "프로젝트 기여도: ('{project_name}' 프로젝트 목표 달성에 대한 구체적 기여 분석 - 각 업무가 프로젝트 성공에 미치는 영향)",
        "WBS 매칭 현황: (매칭된 업무와 미매칭 업무의 비율, 미매칭 업무의 특성과 프로젝트 내 의미)",
        "업무 패턴 분석: (업무 유형별 분포, 시간대별 활동 패턴, 주요 집중 영역)",
        "프로젝트 진척도: (오늘 업무들이 전체 프로젝트 일정과 목표에 미치는 영향)",
        "협업 및 소통: (팀 내 커뮤니케이션, 문제 해결 기여, 지식 공유 활동)",
        "내일 연계성: (오늘 수행한 업무들과 연관된 다음 단계 업무 예상)",
        "개선 및 주의사항: (업무 기록의 완전성 개선, 프로젝트 목표 달성을 위한 집중 영역)"
      ]
    }}
  }}
}}
```

---

## 🎯 EXECUTION REQUIREMENTS

### **분석 순서 - 업무 수집 중심**

1. **업무 완전 스캔 (Complete Work Scanning)** → 모든 게시글에서 업무 활동 빠짐없이 식별
2. **업무 검증 및 분류 (Work Validation)** → 식별된 업무의 정확성과 완료도 확인
3. **프로젝트 맥락 분석 (Project Context Analysis)** → 프로젝트 목표와 업무의 연관성 파악
4. **WBS 정밀 매칭 (Precision WBS Matching)** → 체계적 근거를 바탕으로 한 정확한 매칭
5. **추론 과정 문서화 (Reasoning Documentation)** → 모든 판단의 근거와 과정 투명하게 기록

### **품질 기준 - Work Collection Excellence**

- **완전성**: 게시글에서 확인 가능한 모든 업무 활동 100% 포함
- **정확성**: WBS 매칭의 논리적 타당성과 근거의 명확성
- **추적성**: 모든 업무 식별과 매칭 결과에 구체적 증거와 추론 과정 제시
- **일관성**: 유사한 업무에 대한 일관된 판단 기준 적용
- **신뢰성**: 불확실한 매칭보다는 정확한 미매칭을 우선하여 데이터 품질 보장

### **업무 수집 전문가 검증 체크리스트**

- [ ] **완전한 업무 스캔**: 모든 게시글에서 명시적/암시적 업무 활동 누락 없이 식별
- [ ] **업무 세분화**: 하나의 게시글에 여러 업무가 있는 경우 각각 별도 항목으로 분리
- [ ] **Chain-of-Thought 적용**: 모든 업무 식별과 WBS 매칭에 단계별 추론 과정 포함
- [ ] **프로젝트 맥락 고려**: 프로젝트 목표와 설명을 바탕으로 한 업무 중요도 판단
- [ ] **정확한 WBS 매칭**: 키워드 일치뿝만 아니라 업무 본질과 목적의 일치도 확인
- [ ] **증거 기반 분석**: 모든 판단에 구체적인 게시글 내용 근거 제시
- [ ] **신뢰도 투명성**: 매칭 신뢰도가 낮은 경우 미매칭으로 분류하여 정확성 우선

---

## 🎯 MISSION EXECUTION

분석 대상 사용자의 Teams 활동 분석을 수행하세요.

**분석 파라미터**:

- 사용자 ID: {user_id}
- 사용자 이름: {user_name}
- 분석 날짜: {target_date}
- Teams 게시글 데이터: 제공된 posts 데이터
- WBS 데이터: 제공된 wbs_data
- 프로젝트 컨텍스트: {project_name} - {project_description}

**핵심 지침**:

1. **완전성 최우선**: 작은 업무라도 절대 놓치지 말고 모든 업무 활동을 식별하세요
2. **Chain-of-Thought 적용**: 업무 식별과 WBS 매칭의 모든 과정을 단계별로 명시하세요
3. **프로젝트 맥락 고려**: 업무의 중요도와 연관성을 프로젝트 목표 관점에서 판단하세요
4. **정확성 우선**: 불확실한 매칭보다는 정확한 미매칭을 선택하여 데이터 품질을 보장하세요

**최종 목표**: Teams 활동에서 수행한 모든 업무가 누락 없이 수집되어 Daily Report Generator가 완전하고 정확한 일일 보고서를 생성할 수 있도록 최고 품질의 업무 데이터를 제공하세요.
